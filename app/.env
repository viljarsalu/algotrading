# ============================================================================
# dYdX Trading Service - Environment Configuration
# ============================================================================

# ============================================================================
# ENVIRONMENT & APPLICATION SETTINGS
# ============================================================================
APP_ENV=development
APP_HOST=0.0.0.0
APP_PORT=8000
DEBUG=true
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection for production/development
DATABASE_URL=postgresql+asyncpg://dydx_user:dydx_password@db:5432/dydx_trading

# PostgreSQL credentials (used by Docker Compose)
POSTGRES_DB=dydx_trading
POSTGRES_USER=dydx_user
POSTGRES_PASSWORD=dydx_password
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Database pool settings
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=false

# ============================================================================
# SECURITY & ENCRYPTION
# ============================================================================
# Master encryption key (64 hex characters = 32 bytes)
# Generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
MASTER_ENCRYPTION_KEY=e88c560ed589028a32f711042bd79ec94cd25d0974f8006021f124c50a3e5b09

# Secret key for JWT and session management
SECRET_KEY=your-secret-key-here-replace-with-secure-random-string

# CORS configuration
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000", "http://localhost:5173"]

# ============================================================================
# dYdX V4 API CONFIGURATION
# ============================================================================
# Private key for dYdX wallet (with 0x prefix)
DYDX_V4_PRIVATE_KEY=0x08a57bc84b081500e60c8cb00653d67aae8f5aaf89d41b3bc91713bfc816f9d7

# Wallet address for dYdX API
DYDX_V4_API_WALLET_ADDRESS=dydx1h20xxlfzsh4yxhplcveyelgyr0h2dgkagktnhu

# Network ID (11155111 for Sepolia testnet, 1 for mainnet)
DYDX_V4_NETWORK_ID=11155111

# ============================================================================
# POSITION MONITORING WORKER CONFIGURATION
# ============================================================================
# Monitoring interval in seconds (10-300)
WORKER_MONITORING_INTERVAL=30

# Maximum concurrent workers
WORKER_MAX_WORKERS=5

# Batch size for position processing
WORKER_BATCH_SIZE=10

# Retry configuration
WORKER_MAX_RETRIES=3
WORKER_RETRY_BACKOFF=60

# Health check interval in seconds
WORKER_HEALTH_CHECK_INTERVAL=300

# Maximum concurrent positions to monitor
WORKER_MAX_CONCURRENT_POSITIONS=20

# Feature flags
WORKER_ENABLE_NOTIFICATIONS=true
WORKER_ENABLE_MONITORING=true

# Rate limiting delay between API calls (seconds)
WORKER_RATE_LIMIT_DELAY=0.1

# ============================================================================
# REDIS CONFIGURATION (Optional - for caching/sessions)
# ============================================================================
# REDIS_URL=redis://redis:6379/0
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# ============================================================================
# CELERY CONFIGURATION (Optional - for async tasks)
# ============================================================================
# CELERY_BROKER_URL=redis://redis:6379/0
# CELERY_RESULT_BACKEND=redis://redis:6379/0
# CELERY_TASK_SERIALIZER=json
# CELERY_RESULT_SERIALIZER=json
# CELERY_ACCEPT_CONTENT=["json"]
# CELERY_TIMEZONE=UTC

# ============================================================================
# SENTRY CONFIGURATION (Optional - for error tracking)
# ============================================================================
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# EXTERNAL API INTEGRATIONS
# ============================================================================
# Add any external API keys or endpoints here
# WEBHOOK_SECRET=your-webhook-secret-here
# WEBHOOK_URL=http://localhost:8000/api/webhooks

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Enable/disable auto-reload in development
DEVELOPMENT_AUTO_RELOAD=true

# Sample data creation in development
CREATE_SAMPLE_DATA=true
